# BataDaseLabs
# Система управления фитнес-клубом

### Студент: Бекарев Станислав Сергеевич  
### Группа: 253505

## Тема проекта:
Разработка системы управления фитнес-клубом. Система предназначена для управления клиентами, инструкторами, тренировками, групповыми занятиями, а также клубными картами. В системе будет поддерживаться авторизация, управление пользователями, а также система ролей.

## Стек технологий
PostgreSQL + django + psycopg2 lib driver for python raw sql queries

## Функциональные требования:
### Обязательные функции:
1. **Авторизация и аутентификация пользователей**:
    - Пользователи (администраторы, клиенты, инструкторы) могут входить в систему через систему логина и пароля.
    - Разные роли пользователей: администратор, инструктор, клиент.
  
2. **Управление пользователями (CRUD)**:
    - Администратор может создавать, редактировать и удалять пользователей.
    - Каждый пользователь привязан к определённой роли
    - - Пользователи с ролью клиента или инструктора связаны с дополнительной информацией (профиль клиента или инструктора).

3. **Система ролей**:
    - Роли определяют доступ пользователей к функционалу системы:
      - **Администратор**: Управление пользователями, инструкторами, группами, тренировками, клубными картами.
      - **Инструктор**: Управление тренировками, создание групповых занятий.
      - **Клиент**: Запись на тренировки, просмотр своих занятий и клубных карт.

4. **Журналирование действий пользователя**:
    - Система должна фиксировать действия пользователей: авторизация, регистрация на тренировки, изменение данных профиля и др.

5. **Управление группами и тренировками**:
    - Инструкторы могут создавать тренировки и групповые занятия.
    - Клиенты могут записываться на групповые занятия и тренировки.
    - Система должна учитывать максимальное количество клиентов в группе и доступные тренировки для клиентов.

6. **Управление клубными картами**:
    - Администраторы могут управлять клубными картами, назначать их клиентам, задавать сроки действия и скидки.
    - Клубные карты дают клиентам скидки на тренировки и имеют срок действия.

## Описание таблиц базы данных:

### 1. Таблица `User`:
   - **id** (PK): Уникальный идентификатор пользователя.
   - **username**: Имя пользователя.
   - **password**: Пароль.
   - **role**: Роль пользователя (администратор, клиент, инструктор).

### 2. Таблица `Client`:
   - **id** (PK): Уникальный идентификатор клиента.
   - **fullname**: Полное имя клиента.
   - **age**: Возраст клиента.
   - **phone_number**: Номер телефона клиента.
   - **expenses**: Затраты клиента на тренировки.
   - **user_id** (FK): Связь с таблицей пользователей (один к одному).### 3. Таблица `Instructor`:
   - **id** (PK): Уникальный идентификатор инструктора.
   - **fullname**: Полное имя инструктора.
   - **age**: Возраст инструктора.
   - **phone_number**: Номер телефона инструктора.
   - **about**: Дополнительная информация об инструкторе.
   - **photo**: Фото инструктора.
   - **user_id** (FK): Связь с таблицей пользователей (один к одному).

### 4. Таблица `Workout`:
   - **id** (PK): Уникальный идентификатор тренировки.
   - **start_time**: Время начала тренировки.
   - **end_time**: Время окончания тренировки.
   - **price**: Стоимость тренировки.
   - **category**: Категория тренировки.
   - **group_id** (FK): Связь с таблицей групп (многие к одному).
   - **hall_id** (FK): Связь с таблицей залов (многие к одному).

### 5. Таблица `Group`:
   - **id** (PK): Уникальный идентификатор группы.
   - **name**: Название группы.
   - **all_price**: Общая стоимость всех тренировок группы.
   - **max_workouts**: Максимальное количество тренировок для группы.
   - **max_clients**: Максимальное количество клиентов в группе.
   - **is_open**: Флаг, открыта ли группа для записи.
   - **is_edit**: Флаг, можно ли редактировать группу.
   - **clients**: Связь с таблицей клиентов (многие ко многим).

### 6. Таблица `GroupSchedule`:
   - **id** (PK): Уникальный идентификатор расписания группы.
   - **description**: Описание расписания.
   - **group_id** (FK): Связь с таблицей групп (один к одному).

### 7. Таблица `Hall`:
   - **id** (PK): Уникальный идентификатор зала.
   - **name**: Название зала.
   - **address**: Адрес зала.

### 8. Таблица `ClubCard`:
   - **id** (PK): Уникальный идентификатор клубной карты.
   - **name**: Название клубной карты.
   - **end_date**: Дата окончания действия карты.
   - **discount**: Скидка по карте в процентах.
   - **client_id** (FK): Связь с таблицей клиентов (один к одному).

### 9. Таблица `Partner`:
   - **id** (PK): Уникальный идентификатор партнера.
   - **name**: Название партнера.
   - **url**: Ссылка на сайт партнера.
   - **logo**: Логотип партнера.

## Схема базы данных:
На изображении ниже представлена схематическая модель базы данных с основными связями и типами полей.
[]
